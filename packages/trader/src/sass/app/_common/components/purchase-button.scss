/** @define btn-purchase */
.btn-purchase {
    @include mobile {
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        height: 70px;
        margin: initial;

        &__top,
        &__bottom {
            display: flex;
            flex: 1 1 auto;
            flex-direction: row;
            justify-content: space-around;
            align-items: center;
            height: 50%;
        }

        &__top {
            width: 50%;
        }

        &__bottom {
            width: 40vw; // TODO remove this when find a solution for fill-width inside flex.
        }

        &--vanilla {
            width: auto;
        }

        &:hover {
            transform: none !important;
        }

        &--disabled,
        &[disabled] {
            opacity: 0.32;
        }

        &--swoosh {
            transform: none !important;
        }

        &__error {
            position: absolute;
            z-index: 2;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            width: 100%;
            height: 100%;
            max-height: 90px;
            padding: 0.8rem;
            border-radius: $BORDER_RADIUS;
            background-color: var(--status-danger);
            color: var(--text-colored-background);
            font-weight: bold;
            line-height: 1.4;
        }
    }

    position: relative;
    z-index: 1;
    display: flex;
    overflow: hidden;
    width: 100%;
    height: 56px;
    margin: 5px 0 0;
    padding: 0;
    border: 0;
    border-radius: $BORDER_RADIUS;
    background-color: var(--purchase-section-1);
    outline: 0;
    font-size: 1rem;
    text-align: left;
    white-space: nowrap;
    cursor: pointer;
    transition: transform 0.25s ease;
    touch-action: manipulation;

    &__icon_wrapper {
        @extend %inline-icon.white;

        @include mobile {
            margin-right: 0.5rem;
        }

        /* postcss-bem-linter: ignore */
        .color1-fill {
            fill: var(--text-colored-background);
        }

        /* postcss-bem-linter: ignore */
        .color2-fill {
            fill: var(--text-colored-background);
        }
    }

    &__info {
        position: relative;
        display: flex;
        flex-grow: 1;
        align-items: center;
        height: 56px;
        padding-left: 10px;
        color: var(--text-colored-background);
        text-align: left;
    }

    &__info--left {
        z-index: 2;
        width: 40%;
        background-color: var(--purchase-main-1);
        transition: transform linear 0.25s;

        .btn-purchase__text_wrapper {
            position: absolute;
            margin-left: 24px;
        }
    }

    &__info--right {
        display: flex;
        justify-content: flex-end;
        width: 45%;
        padding-right: 1rem;
        background-color: transparent;

        .btn-purchase__text {
            opacity: 1;
            transition: 0.3s;
        }
    }

    &__effect-detail {
        position: absolute;
        z-index: 1;
        width: 116px;
        height: 100%;
        background-color: var(--purchase-main-1);
        transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
    }

    &__effect-detail--arrow {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        left: 80px;
        display: inline-block;
        width: 55px;
        height: 100%;
        background: var(--purchase-main-1);
        transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
        transform: rotate(45deg);
    }

    &[disabled]:hover {
        cursor: initial;
        transform: none;
    }

    &:hover:not(&--disabled, [disabled]) {
        transform: translate3d(0, -4px, 0);
    }

    &__type-wrapper {
        display: flex;
        align-items: center;
        transition: transform 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
        transform: none;
    }

    &__shadow-wrapper {
        position: relative;

        .btn-purchase__box-shadow {
            position: absolute;
            bottom: 14px;
            z-index: 0;
            width: 100%;
            height: 50%;
            box-shadow: 0 16px 14px 0 var(--shadow-menu);
            opacity: 0.9;
            pointer-events: none;
            transition: opacity 0.25s linear;
        }

        &--disabled {
            pointer-events: none;

            &:hover {
                transform: none;
            }
        }
    }

    &:active:not(&--disabled, [disabled]),
    &:focus:not(&--disabled, [disabled]) {
        transform: translate3d(0, -4px, 0);
    }

    &--swoosh {
        transform: translate3d(0, -4px, 0);

        .btn-purchase__type-wrapper {
            transform: translate3d(55px, 0, 0);
        }

        .btn-purchase__effect-detail {
            transform: scale3d(3, 1, 1);

            &--arrow {
                transform: translate3d(120px, 0, 0) rotate(45deg);
            }
        }
    }

    &--1 {
        @include mobile {
            background: linear-gradient(
                0deg,
                var(--purchase-section-1) 0%,
                var(--purchase-section-1) 50%,
                var(--purchase-main-1) 50%,
                var(--purchase-main-1) 100%
            );
        }

        background-color: var(--purchase-section-1);

        .btn-purchase__info--left {
            background-color: var(--purchase-main-1);
        }

        .btn-purchase__effect-detail {
            background: var(--purchase-main-1);

            &--arrow {
                background: var(--purchase-main-1);
            }
        }

        &__vanilla-opts {
            @include mobile {
                background: linear-gradient(
                    0deg,
                    var(--purchase-section-1) 0%,
                    var(--purchase-section-1) 15%,
                    var(--purchase-main-1) 15%,
                    var(--purchase-main-1) 100%
                );
            }
        }
    }

    &--2 {
        @include mobile {
            background: linear-gradient(
                0deg,
                var(--purchase-section-2) 0%,
                var(--purchase-section-2) 50%,
                var(--purchase-main-2) 50%,
                var(--purchase-main-2) 100%
            );
        }

        background-color: var(--purchase-section-2);

        .btn-purchase__info--left {
            background-color: var(--purchase-main-2);
        }

        .btn-purchase__effect-detail {
            background: var(--purchase-main-2);

            &--arrow {
                background: var(--purchase-main-2);
            }
        }

        &__vanilla-opts {
            @include mobile {
                background: linear-gradient(
                    0deg,
                    var(--purchase-section-2) 0%,
                    var(--purchase-section-2) 15%,
                    var(--purchase-main-2) 15%,
                    var(--purchase-main-2) 100%
                );
            }
        }
    }

    &--disabled,
    &[disabled] {
        cursor: default;

        &:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            z-index: 4;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 32%);
            pointer-events: none;
        }
    }

    &--animated--slide {
        .btn-purchase__icon_wrapper,
        .btn-purchase__text_wrapper {
            @extend .loader;
        }

        .btn-purchase__icon,
        .btn-purchase__text {
            @extend .loader--loading;
        }

        .btn-purchase__icon_wrapper {
            width: 16px;
            height: 16px;
        }

        .btn-purchase__text_wrapper {
            width: 56px;
            height: 8px;

            .btn-purchase__text {
                display: block;
            }
        }
    }

    &--animated--fade &__info--right &__text {
        opacity: 0;
    }

    &__shadow-wrapper:hover:after {
        opacity: 0;
    }

    &--multiplier,
    &--accumulator {
        @include mobile {
            &-deal-cancel {
                height: 64px;
            }
        }

        margin: 0;

        .btn-purchase__info--left {
            flex: none;
            width: 35%;
        }

        .btn-purchase__effect-detail--arrow {
            left: 40px;
        }

        &.btn-purchase--swoosh {
            .btn-purchase {
                &__effect-detail {
                    transform: scale3d(5, 1, 1);

                    &--arrow {
                        transform: translate3d(160px, 0, 0) rotate(45deg);
                    }
                }

                &__type-wrapper {
                    transform: translate3d(70px, 0, 0);
                }
            }
        }

        .btn-purchase__effect-detail {
            width: 72px;
        }

        .btn-purchase__top {
            @include mobile {
                justify-content: center;
            }
        }

        .trade-container__price-info {
            @include mobile {
                justify-content: center;
            }
        }
    }

    &--accumulator {
        @include mobile {
            .btn-purchase {
                &__bottom,
                &__top {
                    gap: 0.3rem;
                    width: unset;
                }

                &__icon_wrapper {
                    height: 1.6rem;
                }
            }
        }

        .btn-purchase {
            &__info {
                &--left {
                    width: 65%;
                    padding-left: 1.6rem;
                }

                &--right {
                    width: 30%;
                    padding-right: 1.6rem;
                }
            }

            &__effect-detail--arrow {
                left: 11rem;
            }
        }

        &.btn-purchase--swoosh {
            .btn-purchase {
                &__effect-detail {
                    transform: scale3d(11, 1, 1);

                    &--arrow {
                        transform: translate3d(120px, 0, 0) rotate(45deg);
                    }
                }

                &__type-wrapper {
                    transform: translate3d(72px, 0, 0);
                }
            }
        }
    }
}
