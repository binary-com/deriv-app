name: npm_install_from_cache
description: Install npm packages from cache
runs:
  using: composite
  steps:
  # - name: Set ownership
  #   run: |
  #     # this is to fix GIT not linking owner of the checkout dir
  #     git config --system --add safe.directory '*'
  #   shell: bash
  - name: Cache node modules
    id: cache-nodemodules
    uses: actions/cache/restore@13aacd865c20de90d75de3b17ebe84f7a17d57d2
    with:
      path: node_modules
      key: ${{ runner.os }}-build-master-cache-${{ hashFiles('./package-lock.json') }} 
  - name: Install npm packages
    if: steps.cache-nodemodules.outputs.cache-hit != 'true'
    run: npm run bootstrap
    shell: bash
